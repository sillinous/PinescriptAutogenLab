apiVersion: v1
kind: ConfigMap
metadata:
  name: pinelab-config
  namespace: pinelab
data:
  # Server Configuration
  HOST: "0.0.0.0"
  PORT: "8000"
  WORKERS: "4"

  # Database
  DATABASE_PATH: "/app/data/pinelab.db"

  # Broker
  ALPACA_BASE_URL: "https://paper-api.alpaca.markets"

  # SMTP
  SMTP_ENABLED: "true"
  SMTP_HOST: "smtp.gmail.com"
  SMTP_PORT: "587"
  SMTP_FROM_EMAIL: "noreply@pinelab.com"
  SMTP_FROM_NAME: "PineScript AutoGen Lab"

  # CORS
  CORS_ORIGINS: "https://pinelab.example.com"

  # Backup & Reliability
  BACKUP_DIR: "/app/backups"
  BACKUP_RETENTION_DAYS: "30"
  RECONCILIATION_INTERVAL_MINUTES: "5"
  RECONCILIATION_STALE_THRESHOLD_MINUTES: "30"

  # WebSocket
  WEBSOCKET_KEEPALIVE_INTERVAL: "30"
  WEBSOCKET_MAX_CONNECTIONS: "1000"

  # Logging
  LOG_LEVEL: "INFO"
  LOG_DIR: "/app/logs"
  LOG_RETENTION_DAYS: "30"
  LOG_MAX_SIZE_MB: "100"

  # Monitoring
  HEALTH_CHECK_INTERVAL: "30"
  HEALTH_CHECK_TIMEOUT: "10"
  METRICS_ENABLED: "true"
  METRICS_PORT: "9090"

  # Feature Flags
  ENABLE_2FA: "true"
  ENABLE_EMAIL_VERIFICATION: "true"
  ENABLE_AUDIT_LOG: "true"
  ENABLE_RATE_LIMITING: "true"
  RATE_LIMIT_PER_MINUTE: "60"

  # Deployment
  ENVIRONMENT: "production"
  AUTO_BACKUP_ON_SHUTDOWN: "true"
  DEBUG: "false"
