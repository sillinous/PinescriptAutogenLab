# .env.docker - Docker environment configuration template
# Copy this to .env and fill in your values

# ==============================================================================
# SERVER CONFIGURATION
# ==============================================================================
HOST=0.0.0.0
PORT=8000
WORKERS=4

# ==============================================================================
# SECURITY
# ==============================================================================

# JWT Secret (generate with: openssl rand -hex 32)
JWT_SECRET=your_jwt_secret_key_here_minimum_32_characters

# Webhook Secret (for TradingView webhooks)
WEBHOOK_SECRET=your_webhook_secret_key_here

# Encryption Key (generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())")
ENCRYPTION_KEY=your_fernet_encryption_key_here_44_characters

# ==============================================================================
# DATABASE
# ==============================================================================

# SQLite (default)
DATABASE_PATH=/app/data/pinelab.db

# PostgreSQL (if using postgres profile)
# POSTGRES_USER=pinelab
# POSTGRES_PASSWORD=secure_password_here
# POSTGRES_DB=pinelab
# DATABASE_URL=postgresql://pinelab:password@postgres:5432/pinelab

# ==============================================================================
# BROKER API (ALPACA)
# ==============================================================================

# Paper Trading (Development)
ALPACA_API_KEY=your_alpaca_paper_api_key
ALPACA_API_SECRET=your_alpaca_paper_api_secret
ALPACA_BASE_URL=https://paper-api.alpaca.markets

# Live Trading (Production) - UNCOMMENT WHEN READY
# ALPACA_API_KEY=your_alpaca_live_api_key
# ALPACA_API_SECRET=your_alpaca_live_api_secret
# ALPACA_BASE_URL=https://api.alpaca.markets

# ==============================================================================
# EMAIL (SMTP)
# ==============================================================================

SMTP_ENABLED=true
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_specific_password
SMTP_FROM_EMAIL=noreply@pinelab.com
SMTP_FROM_NAME=PineScript AutoGen Lab

# ==============================================================================
# CORS
# ==============================================================================

# Allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:80

# ==============================================================================
# BACKUP & RELIABILITY
# ==============================================================================

BACKUP_DIR=/app/backups
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE=daily

# Reconciliation
RECONCILIATION_INTERVAL_MINUTES=5
RECONCILIATION_STALE_THRESHOLD_MINUTES=30

# Retry Settings
RETRY_MAX_ATTEMPTS=3
RETRY_BASE_DELAY=1.0
RETRY_MAX_DELAY=60.0

# ==============================================================================
# WEBSOCKET
# ==============================================================================

WEBSOCKET_KEEPALIVE_INTERVAL=30
WEBSOCKET_MAX_CONNECTIONS=1000

# ==============================================================================
# LOGGING
# ==============================================================================

LOG_LEVEL=INFO
LOG_DIR=/app/logs
LOG_RETENTION_DAYS=30
LOG_MAX_SIZE_MB=100

# ==============================================================================
# MONITORING
# ==============================================================================

# Health check intervals (seconds)
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10

# Metrics
METRICS_ENABLED=true
METRICS_PORT=9090

# ==============================================================================
# FRONTEND
# ==============================================================================

VITE_API_URL=http://localhost:8000
VITE_WS_URL=ws://localhost:8000

# ==============================================================================
# REDIS (if using production profile)
# ==============================================================================

# REDIS_HOST=redis
# REDIS_PORT=6379
# REDIS_DB=0
# REDIS_PASSWORD=

# ==============================================================================
# FEATURE FLAGS
# ==============================================================================

ENABLE_2FA=true
ENABLE_EMAIL_VERIFICATION=true
ENABLE_AUDIT_LOG=true
ENABLE_RATE_LIMITING=true
RATE_LIMIT_PER_MINUTE=60

# ==============================================================================
# DEPLOYMENT
# ==============================================================================

ENVIRONMENT=development
# ENVIRONMENT=production

# Auto-backup on shutdown
AUTO_BACKUP_ON_SHUTDOWN=true

# Debug mode
DEBUG=false
